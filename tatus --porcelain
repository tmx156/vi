warning: in the working copy of 'package-lock.json', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'package.json', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'server/index.ts', LF will be replaced by CRLF the next time Git touches it
warning: in the working copy of 'server/storage.ts', LF will be replaced by CRLF the next time Git touches it
[1mdiff --git a/client/src/pages/about.tsx b/client/src/pages/about.tsx[m
[1mindex 910c18e..533e5aa 100644[m
[1m--- a/client/src/pages/about.tsx[m
[1m+++ b/client/src/pages/about.tsx[m
[36m@@ -21,32 +21,28 @@[m [mexport default function About() {[m
       role: "Lead Photographer & Creative Director",[m
       description: "Award-winning photographer with 15+ years of experience in luxury portraiture. Trained at Central Saint Martins and former Vogue contributor.",[m
       credentials: "MA Photography, Royal College of Art",[m
[31m-      specialties: ["Fashion Portrait", "Editorial", "Celebrity Photography"],[m
[31m-      imageUrl: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=400"[m
[32m+[m[32m      specialties: ["Fashion Portrait", "Editorial", "Celebrity Photography"][m
     },[m
     {[m
       name: "Sophia Martinez",[m
       role: "Senior Portrait Photographer",[m
       description: "Specializes in boudoir and maternity photography, creating intimate and empowering experiences. International award winner.",[m
       credentials: "BA Fine Arts, Parsons School of Design",[m
[31m-      specialties: ["Boudoir", "Maternity", "Fine Art Portraiture"],[m
[31m-      imageUrl: "https://images.unsplash.com/photo-1494790108755-2616b612b789?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=400"[m
[32m+[m[32m      specialties: ["Boudoir", "Maternity", "Fine Art Portraiture"][m
     },[m
     {[m
       name: "James Wellington",[m
       role: "Family & Lifestyle Photographer",[m
       description: "Expert in capturing authentic family moments with natural, documentary-style approach. Former photojournalist.",[m
       credentials: "BA Photojournalism, London College of Communication",[m
[31m-      specialties: ["Family Portraits", "Lifestyle", "Children Photography"],[m
[31m-      imageUrl: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=400"[m
[32m+[m[32m      specialties: ["Family Portraits", "Lifestyle", "Children Photography"][m
     },[m
     {[m
       name: "Isabella Chen",[m
       role: "Luxury Styling Director",[m
       description: "Former fashion stylist for Harper's Bazaar and Elle. Curates wardrobes and sets for each photography session.",[m
       credentials: "Styling Diploma, Fashion Institute of Technology",[m
[31m-      specialties: ["Luxury Styling", "Wardrobe Curation", "Set Design"],[m
[31m-      imageUrl: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=400"[m
[32m+[m[32m      specialties: ["Luxury Styling", "Wardrobe Curation", "Set Design"][m
     }[m
   ];[m
 [m
[36m@@ -82,47 +78,35 @@[m [mexport default function About() {[m
   return ([m
     <div className="min-h-screen">[m
       <Navigation onBookSession={() => setIsModalOpen(true)} />[m
[31m-      <section className="pt-32 pb-24 px-6">[m
[32m+[m[32m      <section className="pt-20 sm:pt-24 md:pt-32 pb-16 sm:pb-20 md:pb-24 px-4 sm:px-6">[m
         <div className="max-w-7xl mx-auto">[m
[31m-          <div className="grid lg:grid-cols-2 gap-16 items-center">[m
[31m-            <div>[m
[31m-              <h1 className="text-6xl font-serif font-light mb-8 luxury-gradient tracking-wide" data-testid="about-title">[m
[31m-                ABOUT VIP PHOTOSHOOTS[m
[31m-              </h1>[m
[31m-              <div className="elegant-divider w-16 mb-8"></div>[m
[31m-              <p className="text-xl text-foreground/70 mb-8 leading-relaxed font-sans tracking-wide" data-testid="about-intro">[m
[31m-                Founded in 2019 on the unwavering belief that every individual deserves to experience the extraordinary, VIP Photoshoots has ascended to become London's most distinguished luxury photography atelier.[m
[31m-              </p>[m
[31m-              <p className="text-lg text-foreground/60 mb-8 leading-relaxed font-sans" data-testid="about-description">[m
[31m-                Our state-of-the-art studios, nestled in the heart of Mayfair and the creative pulse of Shoreditch, combined with our team of internationally acclaimed photographers, create sanctuaries where artistry transcends the ordinary. We specialize in capturing the ineffable essence of our distinguished clientele through sophisticated portraiture that becomes timeless legacy.[m
[31m-              </p>[m
[31m-              <p className="text-lg text-foreground/60 mb-12 leading-relaxed font-sans">[m
[31m-                Each session is a bespoke journey, meticulously crafted to reflect your unique narrative. From Fortune 500 executives to celebrated artists, our diverse clientele trusts us to create imagery that defines their personal and professional legacy.[m
[31m-              </p>[m
[31m-              <div className="grid grid-cols-3 gap-8 mb-12">[m
[31m-                <div className="text-center premium-card p-6">[m
[31m-                  <div className="text-4xl font-serif font-light text-accent mb-3" data-testid="stat-sessions">1,200+</div>[m
[31m-                  <div className="text-sm text-foreground/60 tracking-widest uppercase">Luxury Sessions</div>[m
[31m-                </div>[m
[31m-                <div className="text-center premium-card p-6">[m
[31m-                  <div className="text-4xl font-serif font-light text-accent mb-3" data-testid="stat-years">5</div>[m
[31m-                  <div className="text-sm text-foreground/60 tracking-widest uppercase">Years Excellence</div>[m
[31m-                </div>[m
[31m-                <div className="text-center premium-card p-6">[m
[31m-                  <div className="text-4xl font-serif font-light text-accent mb-3" data-testid="stat-satisfaction">99%</div>[m
[31m-                  <div className="text-sm text-foreground/60 tracking-widest uppercase">Client Satisfaction</div>[m
[31m-                </div>[m
[32m+[m[32m          <div className="text-center max-w-5xl mx-auto">[m
[32m+[m[32m            <h1 className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-serif font-light mb-6 sm:mb-8 luxury-gradient tracking-wide leading-tight" data-testid="about-title">[m
[32m+[m[32m              ABOUT VIP PHOTOSHOOTS[m
[32m+[m[32m            </h1>[m
[32m+[m[32m            <div className="elegant-divider w-12 sm:w-16 mx-auto mb-6 sm:mb-8"></div>[m
[32m+[m[32m            <p className="text-base sm:text-lg md:text-xl text-foreground/70 mb-6 sm:mb-8 leading-relaxed font-sans tracking-wide" data-testid="about-intro">[m
[32m+[m[32m              Founded in 2019 on the unwavering belief that every individual deserves to experience the extraordinary, VIP Photoshoots has ascended to become London's most distinguished luxury photography atelier.[m
[32m+[m[32m            </p>[m
[32m+[m[32m            <p className="text-sm sm:text-base md:text-lg text-foreground/60 mb-6 sm:mb-8 leading-relaxed font-sans" data-testid="about-description">[m
[32m+[m[32m              Our state-of-the-art studios, nestled in the heart of Mayfair and the creative pulse of Shoreditch, combined with our team of internationally acclaimed photographers, create sanctuaries where artistry transcends the ordinary. We specialize in capturing the ineffable essence of our distinguished clientele through sophisticated portraiture that becomes timeless legacy.[m
[32m+[m[32m            </p>[m
[32m+[m[32m            <p className="text-sm sm:text-base md:text-lg text-foreground/60 mb-8 sm:mb-12 leading-relaxed font-sans">[m
[32m+[m[32m              Each session is a bespoke journey, meticulously crafted to reflect your unique narrative. From Fortune 500 executives to celebrated artists, our diverse clientele trusts us to create imagery that defines their personal and professional legacy.[m
[32m+[m[32m            </p>[m
[32m+[m[32m            <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 md:gap-8 mb-8 sm:mb-12">[m
[32m+[m[32m              <div className="text-center premium-card p-4 sm:p-6">[m
[32m+[m[32m                <div className="text-2xl sm:text-3xl md:text-4xl font-serif font-light text-accent mb-2 sm:mb-3" data-testid="stat-sessions">1,200+</div>[m
[32m+[m[32m                <div className="text-xs sm:text-sm text-foreground/60 tracking-widest uppercase">Luxury Sessions</div>[m
[32m+[m[32m              </div>[m
[32m+[m[32m              <div className="text-center premium-card p-4 sm:p-6">[m
[32m+[m[32m                <div className="text-2xl sm:text-3xl md:text-4xl font-serif font-light text-accent mb-2 sm:mb-3" data-testid="stat-years">5</div>[m
[32m+[m[32m                <div className="text-xs sm:text-sm text-foreground/60 tracking-widest uppercase">Years Excellence</div>[m
[32m+[m[32m              </div>[m
[32m+[m[32m              <div className="text-center premium-card p-4 sm:p-6">[m
[32m+[m[32m                <div className="text-2xl sm:text-3xl md:text-4xl font-serif font-light text-accent mb-2 sm:mb-3" data-testid="stat-satisfaction">99%</div>[m
[32m+[m[32m                <div className="text-xs sm:text-sm text-foreground/60 tracking-widest uppercase">Client Satisfaction</div>[m
               </div>[m
[31m-            </div>[m
[31m-            <div className="relative">[m
[31m-              <img [m
[31m-                src="https://images.unsplash.com/photo-1606983340126-99ab4feaa64a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600" [m
[31m-                alt="VIP Photoshoots luxury studio interior" [m
[31m-                className="rounded-2xl shadow-2xl"[m
[31m-                data-testid="studio-image"[m
[31m-              />[m
[31m-              <div className="absolute -bottom-6 -left-6 w-32 h-32 bg-accent rounded-full opacity-20"></div>[m
[31m-              <div className="absolute -top-6 -right-6 w-24 h-24 bg-accent rounded-full opacity-30"></div>[m
             </div>[m
           </div>[m
         </div>[m
[36m@@ -189,32 +173,23 @@[m [mexport default function About() {[m
             </p>[m
           </div>[m
 [m
[31m-          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">[m
[32m+[m[32m          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">[m
             {teamMembers.map((member, index) => ([m
[31m-              <div key={member.name} className="premium-card group cursor-pointer">[m
[31m-                <div className="image-overlay relative mb-6">[m
[31m-                  <img [m
[31m-                    src={member.imageUrl} [m
[31m-                    alt={`${member.name} at VIP Photoshoots`} [m
[31m-                    className="w-full h-80 object-cover transition-transform duration-700 group-hover:scale-105"[m
[31m-                    data-testid={`team-member-image-${index}`}[m
[31m-                  />[m
[31m-                  <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>[m
[31m-                </div>[m
[31m-                <div className="p-6">[m
[31m-                  <h3 className="text-xl font-serif font-light mb-2 text-accent" data-testid={`team-member-name-${index}`}>[m
[32m+[m[32m              <div key={member.name} className="premium-card group">[m
[32m+[m[32m                <div className="p-4 sm:p-6">[m
[32m+[m[32m                  <h3 className="text-lg sm:text-xl font-serif font-light mb-2 text-accent" data-testid={`team-member-name-${index}`}>[m
                     {member.name}[m
                   </h3>[m
[31m-                  <p className="text-foreground/60 text-sm tracking-wider uppercase mb-4" data-testid={`team-member-role-${index}`}>[m
[32m+[m[32m                  <p className="text-foreground/60 text-xs sm:text-sm tracking-wider uppercase mb-3 sm:mb-4" data-testid={`team-member-role-${index}`}>[m
                     {member.role}[m
                   </p>[m
[31m-                  <p className="text-foreground/70 text-sm font-sans leading-relaxed mb-4" data-testid={`team-member-description-${index}`}>[m
[32m+[m[32m                  <p className="text-foreground/70 text-xs sm:text-sm font-sans leading-relaxed mb-3 sm:mb-4" data-testid={`team-member-description-${index}`}>[m
                     {member.description}[m
                   </p>[m
                   <div className="text-xs text-foreground/50 mb-3">[m
                     <strong>Credentials:</strong> {member.credentials}[m
                   </div>[m
[31m-                  <div className="flex flex-wrap gap-2">[m
[32m+[m[32m                  <div className="flex flex-wrap gap-1 sm:gap-2">[m
                     {member.specialties.map((specialty, i) => ([m
                       <span key={i} className="text-xs bg-accent/10 text-accent px-2 py-1 tracking-wider">[m
                         {specialty}[m
[1mdiff --git a/package-lock.json b/package-lock.json[m
[1mindex a03ee00..9efaa2c 100644[m
[1m--- a/package-lock.json[m
[1m+++ b/package-lock.json[m
[36m@@ -95,6 +95,7 @@[m
         "esbuild": "^0.25.0",[m
         "postcss": "^8.4.47",[m
         "tailwindcss": "^3.4.17",[m
[32m+[m[32m        "terser": "^5.44.0",[m
         "tsx": "^4.19.1",[m
         "typescript": "5.6.3",[m
         "vite": "^5.4.19"[m
[36m@@ -1379,6 +1380,17 @@[m
         "node": ">=6.0.0"[m
       }[m
     },[m
[32m+[m[32m    "node_modules/@jridgewell/source-map": {[m
[32m+[m[32m      "version": "0.3.11",[m
[32m+[m[32m      "resolved": "https://registry.npmjs.org/@jridgewell/source-map/-/source-map-0.3.11.tgz",[m
[32m+[m[32m      "integrity": "sha512-ZMp1V8ZFcPG5dIWnQLr3NSI1MiCU7UETdS/A0G8V/XWHvJv3ZsFqutJn1Y5RPmAPX6F3BiE397OqveU/9NCuIA==",[m
[32m+[m[32m      "dev": true,[m
[32m+[m[32m      "license": "MIT",[m
[32m+[m[32m      "dependencies": {[m
[32m+[m[32m        "@jridgewell/gen-mapping": "^0.3.5",[m
[32m+[m[32m        "@jridgewell/trace-mapping": "^0.3.25"[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
     "node_modules/@jridgewell/sourcemap-codec": {[m
       "version": "1.5.0",[m
       "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.0.tgz",[m
[36m@@ -3664,6 +3676,19 @@[m
         "node": ">= 0.6"[m
       }[m
     },[m
[32m+[m[32m    "node_modules/acorn": {[m
[32m+[m[32m      "version": "8.15.0",[m
[32m+[m[32m      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",[m
[32m+[m[32m      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",[m
[32m+[m[32m      "dev": true,[m
[32m+[m[32m      "license": "MIT",[m
[32m+[m[32m      "bin": {[m
[32m+[m[32m        "acorn": "bin/acorn"[m
[32m+[m[32m      },[m
[32m+[m[32m      "engines": {[m
[32m+[m[32m        "node": ">=0.4.0"[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
     "node_modules/ansi-regex": {[m
       "version": "6.1.0",[m
       "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz",[m
[36m@@ -7803,6 +7828,32 @@[m
         "node": ">=6"[m
       }[m
     },[m
[32m+[m[32m    "node_modules/terser": {[m
[32m+[m[32m      "version": "5.44.0",[m
[32m+[m[32m      "resolved": "https://registry.npmjs.org/terser/-/terser-5.44.0.tgz",[m
[32m+[m[32m      "integrity": "sha512-nIVck8DK+GM/0Frwd+nIhZ84pR/BX7rmXMfYwyg+Sri5oGVE99/E3KvXqpC2xHFxyqXyGHTKBSioxxplrO4I4w==",[m
[32m+[m[32m      "dev": true,[m
[32m+[m[32m      "license": "BSD-2-Clause",[m
[32m+[m[32m      "dependencies": {[m
[32m+[m[32m        "@jridgewell/source-map": "^0.3.3",[m
[32m+[m[32m        "acorn": "^8.15.0",[m
[32m+[m[32m        "commander": "^2.20.0",[m
[32m+[m[32m        "source-map-support": "~0.5.20"[m
[32m+[m[32m      },[m
[32m+[m[32m      "bin": {[m
[32m+[m[32m        "terser": "bin/terser"[m
[32m+[m[32m      },[m
[32m+[m[32m      "engines": {[m
[32m+[m[32m        "node": ">=10"[m
[32m+[m[32m      }[m
[32m+[m[32m    },[m
[32m+[m[32m    "node_modules/terser/node_modules/commander": {[m
[32m+[m[32m      "version": "2.20.3",[m
[32m+[m[32m      "resolved": "https://registry.npmjs.org/commander/-/commander-2.20.3.tgz",[m
[32m+[m[32m      "integrity": "sha512-GpVkmM8vF2vQUkj2LvZmD35JxeJOLCwJ9cUkugyk2nuhbv3+mJvpLYYt+0+USMxE+oj+ey/lJEnhZw75x/OMcQ==",[m
[32m+[m[32m      "dev": true,[m
[32m+[m[32m      "license": "MIT"[m
[32m+[m[32m    },[m
     "node_modules/thenify": {[m
       "version": "3.3.1",[m
       "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",[m
[1mdiff --git a/package.json b/package.json[m
[1mindex 0ec66a2..8a8ac55 100644[m
[1m--- a/package.json[m
[1m+++ b/package.json[m
[36m@@ -3,12 +3,16 @@[m
   "version": "1.0.0",[m
   "type": "module",[m
   "license": "MIT",[m
[32m+[m[32m  "engines": {[m
[32m+[m[32m    "node": "22.x"[m
[32m+[m[32m  },[m
   "scripts": {[m
     "dev": "cross-env NODE_ENV=development tsx server/index.ts",[m
[31m-    "build": "vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist",[m
[31m-    "start": "cross-env NODE_ENV=production node dist/index.js",[m
[32m+[m[32m    "build": "vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=api",[m
[32m+[m[32m    "start": "cross-env NODE_ENV=production node api/index.js",[m
     "check": "tsc",[m
[31m-    "db:push": "drizzle-kit push"[m
[32m+[m[32m    "db:push": "drizzle-kit push",[m
[32m+[m[32m    "vercel-build": "npm run build"[m
   },[m
   "dependencies": {[m
     "@hookform/resolvers": "^3.10.0",[m
[36m@@ -97,6 +101,7 @@[m
     "esbuild": "^0.25.0",[m
     "postcss": "^8.4.47",[m
     "tailwindcss": "^3.4.17",[m
[32m+[m[32m    "terser": "^5.44.0",[m
     "tsx": "^4.19.1",[m
     "typescript": "5.6.3",[m
     "vite": "^5.4.19"[m
[1mdiff --git a/server/index.ts b/server/index.ts[m
[1mindex 391e98a..ce50ebf 100644[m
[1m--- a/server/index.ts[m
[1m+++ b/server/index.ts[m
[36m@@ -36,8 +36,13 @@[m [mapp.use((req, res, next) => {[m
   next();[m
 });[m
 [m
[31m-(async () => {[m
[31m-  const server = await registerRoutes(app);[m
[32m+[m[32m// Initialize the app[m
[32m+[m[32mlet server: any = null;[m
[32m+[m
[32m+[m[32masync function initializeApp() {[m
[32m+[m[32m  if (server) return server;[m
[32m+[m[41m  [m
[32m+[m[32m  server = await registerRoutes(app);[m
 [m
   app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {[m
     const status = err.status || err.statusCode || 500;[m
[36m@@ -56,15 +61,30 @@[m [mapp.use((req, res, next) => {[m
     serveStatic(app);[m
   }[m
 [m
[31m-  // ALWAYS serve the app on the port specified in the environment variable PORT[m
[31m-  // Other ports are firewalled. Default to 5000 if not specified.[m
[31m-  // this serves both the API and the client.[m
[31m-  // It is the only port that is not firewalled.[m
[31m-  const port = parseInt(process.env.PORT || '5000', 10);[m
[31m-  server.listen({[m
[31m-    port,[m
[31m-    host: "localhost",[m
[31m-  }, () => {[m
[31m-    log(`serving on port ${port}`);[m
[31m-  });[m
[31m-})();[m
[32m+[m[32m  return server;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// For Vercel serverless functions[m
[32m+[m[32mexport default async function handler(req: Request, res: Response) {[m
[32m+[m[32m  const server = await initializeApp();[m
[32m+[m[32m  return app(req, res);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// For local development[m
[32m+[m[32mif (process.env.NODE_ENV !== "production") {[m
[32m+[m[32m  (async () => {[m
[32m+[m[32m    const server = await initializeApp();[m
[32m+[m[41m    [m
[32m+[m[32m    // ALWAYS serve the app on the port specified in the environment variable PORT[m
[32m+[m[32m    // Other ports are firewalled. Default to 5000 if not specified.[m
[32m+[m[32m    // this serves both the API and the client.[m
[32m+[m[32m    // It is the only port that is not firewalled.[m
[32m+[m[32m    const port = parseInt(process.env.PORT || '5000', 10);[m
[32m+[m[32m    server.listen({[m
[32m+[m[32m      port,[m
[32m+[m[32m      host: "localhost",[m
[32m+[m[32m    }, () => {[m
[32m+[m[32m      log(`serving on port ${port}`);[m
[32m+[m[32m    });[m
[32m+[m[32m  })();[m
[32m+[m[32m}[m
[1mdiff --git a/server/storage.ts b/server/storage.ts[m
[1mindex ee25bd1..8b2393f 100644[m
[1m--- a/server/storage.ts[m
[1m+++ b/server/storage.ts[m
[36m@@ -1,5 +1,8 @@[m
 import { type User, type InsertUser } from "@shared/schema";[m
[31m-import { randomUUID } from "crypto";[m
[32m+[m[32mimport { drizzle } from "drizzle-orm/neon-serverless";[m
[32m+[m[32mimport { Pool } from "@neondatabase/serverless";[m
[32m+[m[32mimport { users } from "@shared/schema";[m
[32m+[m[32mimport { eq } from "drizzle-orm";[m
 [m
 // modify the interface with any CRUD methods[m
 // you might need[m
[36m@@ -10,29 +13,32 @@[m [mexport interface IStorage {[m
   createUser(user: InsertUser): Promise<User>;[m
 }[m
 [m
[31m-export class MemStorage implements IStorage {[m
[31m-  private users: Map<string, User>;[m
[32m+[m[32mexport class SupabaseStorage implements IStorage {[m
[32m+[m[32m  private db: ReturnType<typeof drizzle>;[m
 [m
   constructor() {[m
[31m-    this.users = new Map();[m
[32m+[m[32m    if (!process.env.DATABASE_URL) {[m
[32m+[m[32m      throw new Error("DATABASE_URL environment variable is required");[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    const pool = new Pool({ connectionString: process.env.DATABASE_URL });[m
[32m+[m[32m    this.db = drizzle(pool);[m
   }[m
 [m
   async getUser(id: string): Promise<User | undefined> {[m
[31m-    return this.users.get(id);[m
[32m+[m[32m    const result = await this.db.select().from(users).where(eq(users.id, id)).limit(1);[m
[32m+[m[32m    return result[0];[m
   }[m
 [m
   async getUserByUsername(username: string): Promise<User | undefined> {[m
[31m-    return Array.from(this.users.values()).find([m
[31m-      (user) => user.username === username,[m
[31m-    );[m
[32m+[m[32m    const result = await this.db.select().from(users).where(eq(users.username, username)).limit(1);[m
[32m+[m[32m    return result[0];[m
   }[m
 [m
   async createUser(insertUser: InsertUser): Promise<User> {[m
[31m-    const id = randomUUID();[m
[31m-    const user: User = { ...insertUser, id };[m
[31m-    this.users.set(id, user);[m
[31m-    return user;[m
[32m+[m[32m    const result = await this.db.insert(users).values(insertUser).returning();[m
[32m+[m[32m    return result[0];[m
   }[m
 }[m
 [m
[31m-export const storage = new MemStorage();[m
[32m+[m[32mexport const storage = new SupabaseStorage();[m
[1mdiff --git a/vercel.json b/vercel.json[m
[1mindex 715d8aa..da80f69 100644[m
[1m--- a/vercel.json[m
[1m+++ b/vercel.json[m
[36m@@ -1,43 +1,25 @@[m
 {[m
   "version": 2,[m
[31m-  "builds": [[m
[31m-    {[m
[31m-      "src": "dist/index.js",[m
[31m-      "use": "@vercel/node"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "dist/public/**",[m
[31m-      "use": "@vercel/static"[m
[32m+[m[32m  "buildCommand": "npm run build",[m
[32m+[m[32m  "outputDirectory": "dist/public",[m
[32m+[m[32m  "functions": {[m
[32m+[m[32m    "api/index.js": {[m
[32m+[m[32m      "runtime": "@vercel/node@4.0.0",[m
[32m+[m[32m      "maxDuration": 30[m
     }[m
[31m-  ],[m
[32m+[m[32m  },[m
   "routes": [[m
     {[m
       "src": "/api/(.*)",[m
[31m-      "dest": "/dist/index.js"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "/privacy",[m
[31m-      "dest": "/dist/public/index.html"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "/terms",[m
[31m-      "dest": "/dist/public/index.html"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "/about",[m
[31m-      "dest": "/dist/public/index.html"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "/gallery",[m
[31m-      "dest": "/dist/public/index.html"[m
[31m-    },[m
[31m-    {[m
[31m-      "src": "/locations",[m
[31m-      "dest": "/dist/public/index.html"[m
[32m+[m[32m      "dest": "/api/index.js"[m
     },[m
     {[m
       "src": "/(.*)",[m
[31m-      "dest": "/dist/public/$1"[m
[32m+[m[32m      "dest": "/$1"[m
     }[m
[31m-  ][m
[32m+[m[32m  ],[m
[32m+[m[32m  "env": {[m
[32m+[m[32m    "NODE_ENV": "production"[m
[32m+[m[32m  },[m
[32m+[m[32m  "regions": ["iad1"][m
 }[m
